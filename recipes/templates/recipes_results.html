{% load static %}

<html>
	<head>
		<title>Find Your Recipe</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="{% static "recipes/jquery.dropdown.css"%}">
		<script src="{% static "recipes/jquery.dropdown.js" %}"></script>
		<style>
			th.title, td.title {
				width: 100px;
			}
			
			th.link, td.link {
				width: 150px;
			}
			
			th.categories, td.categories {
				width: 50px;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1 class="text-center">Search Results</h1>
			<h4 class="space-top">Recipes only with your ingredients:</h4>
			<table class="table">
				<thead>
					<tr>
						<th class="title">Title</th>
						<th class="link">Link</th>
						<th class="categories">Categories</th>
					</tr>
				</thead>
				<tbody>
					{% if all_ingredients.length == 0 %}
					<tr><td colspan="3">No recipes found</td></tr>
					{% else %}
						{% for recipe in all_ingredients %}
							<tr>
								<td class="title">{{recipe.title}}</td>
								<td class="link"><a href="{{recipe.url}}" target="_blank">{{recipe.url}}</a></td>
								<td class="categories">{{recipe.categories}}</td>
							</tr>
						{% endfor %}
					{% endif %}
				</tbody>
			</table>
			<h4 class="space-top">Recipes missing one ingredient:</h4>
			<table class="table">
				<thead>
					<tr>
						<th class="title">Title</th>
						<th class="link">Link</th>
						<th class="categories">Categories</th>
					</tr>
				</thead>
				<tbody>
					{% if one_missing.length == 0 %}
					<tr><td colspan="2">No recipes found</td></tr>
					{% else %}
						{% for recipe in one_missing %}
							<tr>
								<td class="title">{{recipe.title}}</td>
								<td class="link"><a href="{{recipe.url}}" target="_blank">{{recipe.url}}</a></td>
								<td class="categories">{{recipe.categories}}</td>
							</tr>
						{% endfor %}
					{% endif %}
				</tbody>
			</table>
			<h4 class="space-top">Recipes missing two ingredients:</h4>
			<table class="table">
				<thead>
					<tr>
						<th class="title">Title</th>
						<th class="link">Link</th>
						<th class="categories">Categories</th>
					</tr>
				</thead>
				<tbody>
					{% if two_missing.length == 0 %}
					<tr><td colspan="2">No recipes found</td></tr>
					{% else %}
						{% for recipe in two_missing %}
							<tr>
								<td class="title">{{recipe.title}}</td>
								<td class="link"><a href="{{recipe.url}}" target="_blank">{{recipe.url}}</a></td>
								<td class="categories">{{recipe.categories}}</td>
							</tr>
						{% endfor %}
					{% endif %}
				</tbody>
			</table>
			<h4 class="space-top">Recipes missing two ingredients:</h4>
			<table class="table">
				<thead>
					<tr>
						<th class="title">Title</th>
						<th class="link">Link</th>
						<th class="categories">Categories</th>
					</tr>
				</thead>
				<tbody>
					{% if more_than_two_missing.length == 0 %}
					<tr><td colspan="2">No recipes found</td></tr>
					{% else %}
						{% for recipe in more_than_two_missing %}
							<tr>
								<td class="title">{{recipe.title}}</td>
								<td class="link"><a href="{{recipe.url}}" target="_blank">{{recipe.url}}</a></td>
								<td class="categories">{{recipe.categories}}</td>
							</tr>
						{% endfor %}
					{% endif %}
				</tbody>
			</table>
		</div>
	</body>
</html>